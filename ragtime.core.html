<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>ragtime.core documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Ragtime 0.4.0-SNAPSHOT API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ragtime</span></div></div></li><li class="depth-2 branch current"><a href="ragtime.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch"><a href="ragtime.jdbc.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>jdbc</span></div></a></li><li class="depth-2 branch"><a href="ragtime.repl.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>repl</span></div></a></li><li class="depth-2"><a href="ragtime.strategy.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>strategy</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="ragtime.core.html#var-applied-migrations"><div class="inner"><span>applied-migrations</span></div></a></li><li class="depth-1"><a href="ragtime.core.html#var-into-index"><div class="inner"><span>into-index</span></div></a></li><li class="depth-1"><a href="ragtime.core.html#var-Migratable"><div class="inner"><span>Migratable</span></div></a></li><li class="depth-2 branch"><a href="ragtime.core.html#var-add-migration-id"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>add-migration-id</span></div></a></li><li class="depth-2 branch"><a href="ragtime.core.html#var-applied-migration-ids"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>applied-migration-ids</span></div></a></li><li class="depth-2"><a href="ragtime.core.html#var-remove-migration-id"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>remove-migration-id</span></div></a></li><li class="depth-1"><a href="ragtime.core.html#var-migrate"><div class="inner"><span>migrate</span></div></a></li><li class="depth-1"><a href="ragtime.core.html#var-migrate-all"><div class="inner"><span>migrate-all</span></div></a></li><li class="depth-1"><a href="ragtime.core.html#var-rollback"><div class="inner"><span>rollback</span></div></a></li><li class="depth-1"><a href="ragtime.core.html#var-rollback-last"><div class="inner"><span>rollback-last</span></div></a></li><li class="depth-1"><a href="ragtime.core.html#var-rollback-to"><div class="inner"><span>rollback-to</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">ragtime.core</h2><div class="doc"><pre class="plaintext">Functions for applying and rolling back migrations.
</pre></div><div class="public anchor" id="var-applied-migrations"><h3>applied-migrations</h3><div class="usage"><code>(applied-migrations db index)</code></div><div class="doc"><pre class="plaintext">List all migrations in the index that are applied to the database.
</pre></div></div><div class="public anchor" id="var-into-index"><h3>into-index</h3><div class="usage"><code>(into-index migrations)</code><code>(into-index index migrations)</code></div><div class="doc"><pre class="plaintext">Add migrations to a map, using their :id as the key.
</pre></div></div><div class="public anchor" id="var-Migratable"><h3>Migratable</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><pre class="plaintext">Protocol for a database that can be migrated.
</pre></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-add-migration-id"><h3>add-migration-id</h3><div class="usage"><code>(add-migration-id db migration-id)</code></div><div class="doc"><pre class="plaintext">Add an applied migration ID to the database.
</pre></div></div><div class="public anchor" id="var-applied-migration-ids"><h3>applied-migration-ids</h3><div class="usage"><code>(applied-migration-ids db)</code></div><div class="doc"><pre class="plaintext">Return a list of the ids of all migrations applied to the database.
</pre></div></div><div class="public anchor" id="var-remove-migration-id"><h3>remove-migration-id</h3><div class="usage"><code>(remove-migration-id db migration-id)</code></div><div class="doc"><pre class="plaintext">Remove a rolled-back migration ID from the database.
</pre></div></div></div></div></div><div class="public anchor" id="var-migrate"><h3>migrate</h3><div class="usage"><code>(migrate db migration)</code></div><div class="doc"><pre class="plaintext">Apply a single migration to a database.
</pre></div></div><div class="public anchor" id="var-migrate-all"><h3>migrate-all</h3><div class="usage"><code>(migrate-all db index migrations)</code><code>(migrate-all db index migrations strategy)</code></div><div class="doc"><pre class="plaintext">Migrate a database with the supplied index, migrations and
strategy. The index matches IDs in the database with their
associated migrations. The strategy defines what to do if there are
conflicts between the migrations applied to the database, and the
migrations that need to be applied. The default strategy is
ragtime.strategy/raise-error. </pre></div></div><div class="public anchor" id="var-rollback"><h3>rollback</h3><div class="usage"><code>(rollback db migration)</code></div><div class="doc"><pre class="plaintext">Rollback a migration already applied to the database.
</pre></div></div><div class="public anchor" id="var-rollback-last"><h3>rollback-last</h3><div class="usage"><code>(rollback-last db index)</code><code>(rollback-last db index n)</code></div><div class="doc"><pre class="plaintext">Rollback the last n migrations from the database, using the supplied
migration index. If n is not specified, only the very last migration is
rolled back.</pre></div></div><div class="public anchor" id="var-rollback-to"><h3>rollback-to</h3><div class="usage"><code>(rollback-to db index id)</code></div><div class="doc"><pre class="plaintext">Rollback to a specific migration ID, using the supplied migration index.
</pre></div></div></div></body></html>